---
title: "React Nativeのスタイリングの手引き"
emoji: "🎨"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["ReactNative", "cssInJs", "styling"]
published: false
---

# はじめに

これは React Native のスタイリングで困った時に見る記事です。  
今まで Web でばりばりやってきた人間が、React Native の開発で最初につまずくのは環境構築です。  
そして、次につまずくのがこのスタイリングになります。

css-in-js なので Web と同じノリで書けるじゃん、と思ってやってみると少しずつ違うことに気付きます。  
boz-sizing がない、display が none と flat しかないあたりで違和感を覚えつつも、
どの記事にもおまじないかのように当たり前のように書かれている`flex: 1`をあなたもふんいきで唱えます。  
`画面幅に対して80%の幅を確保しつつ中央配置`や`画面下部の高さは固定で余った分を満たす`ような
Web では簡単にできたスタイリングができないところで頭を抱えてきます。
そして Web でいつも使ってた`width: 100%`が効かない場面に遭遇したところで絶望を覚えます。

コンポーネントをどのように配置するかというレイアウト、ならびに要素の拡縮率の指定が Web のソレとは大きく違います。  
この記事ではスタイリングの中でも、特にレイアウトに関する Tips を紹介していきます。

## React Native ではデフォルトがフレックスボックス

React Native のスタイリングは何もせずともフレックスボックスで縦方向にコンポーネントが積み上げられていきます。  
初めから下記 CSS が適用されていると考えていいです。

```js
display: flex;
flexDirection: column;
```

また、このフレックスボックスの仕様も Web と完全に同じというわけではなく、独特のクセがあります。

:::message
React Native のフレックスボックス系のプロパティの初期値は Web とは違います。
:::

Web では指定しなくても、特に問題のなかった下記プロパティも用途に応じて使うこともあります。

- flex-grow
- flex-shrink
- flex-basis

といっても、そんなに使うことはないです（たぶん）。

## flex: 1 とはなにか

React Native では必ず flex: 1 がかけられます。  
1 番親のコンポーネントにかけると、要素が画面の幅と高さを目一杯に要素を引き伸ばされます。  
ここで重要なのは`1番親のコンポーネントでかけられた時だけ`こうなります。  
子コンポーネントで同じように flex: 1 を使うと別の意味合いになるので注意してください。  
フレックスボックスの仕様通りではあるのですが、説明もされず当たり前のように書かれているのでこれで結構混乱します。

```tsx
<View style={styles.container}>
  <View style={[styles.box, backgroundColor: 'red']} />
  <View style={[styles.box, backgroundColor: 'blue']} />
  <View style={[styles.box, backgroundColor: 'green']} />
</View>

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 20,
  },
  box: {
    flex: 1,
  },
})

```
